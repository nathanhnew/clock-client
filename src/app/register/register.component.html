<div class="container">
  <div class="row">
    <div class="col-xs-12 col-sm-10 col-md-8 col-sm-offset-1 col-xs-offset-2">
      <h4 class="warning" *ngFor="let error of errs" >{{ errorText }}</h4>
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
          <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" class="form-control" name="email" placeholder="Enter Email" formControlName="email" [ngClass]="{'check': registerForm.get('email').errors === null}">
            <p class="form-text text-muted" *ngIf="registerForm.get('email').errors != null && registerForm.get('email').errors['email'] && registerForm.get('email').touched">Please enter a valid email</p>
            <p class="form-text text-muted" *ngIf="registerForm.get('email').errors != null && registerForm.get('email').errors['exists'] && registerForm.get('email').touched">Email already registered</p>
          </div>
          <div class="form-group">
            <label for="username">Username:</label>
            <input type="text" id="username" class="form-control" name="username" placeholder="Enter Username" formControlName="username" [ngClass]="{'check': registerForm.get('username').errors === null}">
            <p class="form-text text-muted" *ngIf="registerForm.get('username').invalid && registerForm.get('username').touched" >A username is required</p>
          </div>
          <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" id="password" class="form-control" placeholder="Enter Password" formControlName="password" [ngClass]="{'check': registerForm.get('password').errors === null}">
            <p class="form-text text-muted" *ngIf="registerForm.get('password').invalid && registerForm.get('password').errors['required'] && registerForm.get('password').touched">Password is required</p>
            <p class="form-text text-muted" *ngIf="registerForm.get('password').invalid && registerForm.get('password').errors['minlength'] && registerForm.get('password').touched" >Password must be 6 characters</p>
          </div>
          <div class="form-group">
            <label for="confirm">Confirm Password:</label>
            <input type="password" id="confirm" class="form-control" placeholder="Confirm Password" formControlName="confirm" [ngClass]="{'mismatch': (registerForm.get('password').value !== registerForm.get('confirm').value), 'check': (registerForm.get('password').value == registerForm.get('confirm').value)}">
            <p class="form-text text-muted" *ngIf="registerForm.get('password').value !== registerForm.get('confirm').value && registerForm.get('confirm').touched" >Passwords must match</p>
          </div>
          <button class="btn btn-success" type='submit' [disabled]="registerForm.invalid">Register</button>
        </form>
    </div>
  </div>
</div>
